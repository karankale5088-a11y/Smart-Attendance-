<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Attendance System</title>

<!-- ========================= -->
<!--          STYLE            -->
<!-- ========================= -->
<style>
    body {
        background:#e9f1ff;
        font-family:Arial;
        margin:0;
        padding:0;
    }
    h1 {
        background:#0a74ff;
        color:white;
        padding:20px;
        margin:0;
        text-align:center;
    }
    .nav {
        text-align:center;
        padding:12px;
        background:#f0f5ff;
        border-bottom:2px solid #c2d7ff;
    }
    .nav button {
        padding:10px 18px;
        background:#d9e8ff;
        border:none;
        border-radius:8px;
        margin:5px;
        cursor:pointer;
        font-size:15px;
    }
    .nav button:hover {
        background:#bcd6ff;
    }

    .card {
        background:white;
        width:85%;
        margin:25px auto;
        padding:20px;
        border-radius:15px;
        box-shadow:0px 0px 10px rgba(0,0,0,0.18);
        position:relative;
    }

    #previewImg {
        width:100%;
        border-radius:10px;
        display:none;
        margin-top:15px;
    }
    #overlayCanvas {
        position:absolute;
        left:0;
        top:0;
        pointer-events:none;
    }
    #statusMsg {
        font-size:18px;
        margin-top:10px;
        font-weight:bold;
    }
    #presentList li {
        background:#e0edff;
        padding:10px;
        border-radius:8px;
        margin-bottom:6px;
        font-size:17px;
    }
</style>

<!-- ========================= -->
<!--      Face API (Correct)   -->
<!-- ========================= -->
<script src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>

<!-- ========================= -->
<!--        Firebase v8        -->
<!-- ========================= -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
const firebaseConfig = {
    apiKey: "AIzaSyDUrMm2ExlhcSpQ1-sROzy_7oIY4mpu3Eo",
    authDomain: "smart-attendance-ai-4bc4f.firebaseapp.com",
    databaseURL: "https://smart-attendance-ai-4bc4f-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "smart-attendance-ai-4bc4f",
    storageBucket: "smart-attendance-ai-4bc4f.appspot.com",
    messagingSenderId: "267157518712",
    appId: "1:267157518712:web:2404a9cab8d7e0d522b08d"
};
firebase.initializeApp(firebaseConfig);
</script>

<!-- Role Checker -->
<script src="role-check.js" defer></script>

<!-- Main Script -->
<script src="script.js" defer></script>

</head>

<body>

<h1>Smart Attendance System</h1>

<div class="nav">
    <a href="index.html"><button>Upload Photo</button></a>
    <a href="attendance.html"><button>Attendance</button></a>
    <a href="dashboard.html"><button>Dashboard</button></a>
    <a href="register.html"><button>Register Student</button></a>
    <button onclick="logout()">Logout</button>
</div>

<div class="card">
    <h2>Step 1: Upload Class Group Photo</h2>

    <input type="file" id="photoInput" accept="image/*">
    <p id="statusMsg">Please select an imageâ€¦</p>

    <div style="position:relative;">
        <img id="previewImg">
        <canvas id="overlayCanvas"></canvas>
    </div>

    <h2>Present Students</h2>
    <ul id="presentList"></ul>
</div>

</body>
</html>
